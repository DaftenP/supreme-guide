<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--// 글 전체 조회
	List<Board> list();
	// 글 등록
	int regist(Board board);
	// 글 개별 조회
	Board selectById(int board_id);
	// 글 수정
	int modify(Board board);
	// 글 조회수 변경
	void updateview(int board_id);
	// 글 삭제
	int delete(int board_id); -->
<mapper namespace="com.ssafy.enjoytrips.model.dao.BoardDao">
	<select id="list" parameterType="searchCondition" resultType="board">
		SELECT 
			board_id, board_title, board_content, board_view, board_writer, board_created_time
		FROM 
			board
		<where>
 			<if test="key != 'none'">
 				 ${key} LIKE CONCAT('%', #{word}, '%')
 			</if>
 			<if test="orderBy != 'none'">
				ORDER BY ${orderBy} ${orderByDir}
			</if>
			
			<if test="limit">
				LIMIT #{offset}, #{countPerPage}
			</if>
	 		</where>
	 	;
	</select>
	
	<insert id="regist" parameterType="board">
		INSERT INTO board(board_id, board_title, board_content, board_view, board_writer)
		VALUES (#{board_id}, #{board_title}, #{board_content}, #{board_view}, #{board_writer})
	</insert>
	
	<select id="select" parameterType="int" resultType="board">
		SELECT *
		FROM board
		WHERE board_id = #{board_id}
	</select>
	
	<update id="modify" parameterType="board">
		UPDATE board
		SET board_title = #{board_title}, board_content = #{board_content}
		WHERE board_id = #{board_id}
	</update>
	
	<update id="updateview" parameterType="int">
		UPDATE board
		SET board_view = board_view + 1
		WHERE board_id = #{board_id}
	</update>
	
	<delete id="delete" parameterType="int">
		DELETE
		FROM board
		WHERE board_id = #{board_id}
	</delete>
</mapper>